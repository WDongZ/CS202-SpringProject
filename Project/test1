.data

.macro input(%a,%b,%c)#a = s1,b = s0,c = t1
inputNum:
	lw %a,0(%b)#s1 确认键 确认后输入
	bne %a,%c,inputNum
loop:
	lw %a,0(%b)
	bne %a,zero,loop#按键放开后变化
.end_macro

.text
#60(a),62(b)是输出LED,70是读入拨码开关,78是编码开关,64是七段数码管,74是确认按键
	addi s0,zero,0xFFFFFC74#s0按键地址
Loop:	
	addi s3,zero,0
	lw s1,0(s0)#s1 确认后开始进行test1
	addi a1,zero,0
	addi t0,zero,0
	addi t1,zero,0
	addi a3,zero,0xFFFFFC78#a3是编号地址
	lw s4,0(a3)
	beq s4,s3,test000
	addi s3,s3,1
	beq s4,s3,test001
	addi s3,s3,1
	beq s4,s3,test010
	addi s3,s3,1
	beq s4,s3,test011
	addi s3,s3,1
	beq s4,s3,test100
	addi s3,s3,1
	beq s4,s3,test101
	addi s3,s3,1
	beq s4,s3,test110
	addi s3,s3,1
	beq s4,s3,test111

 #test3'b000
test000:
	addi t1,zero,1
	addi s0,zero,0xFFFFFC74#s0按键地址
	input(s1,s0,t1)#按键操作
	addi t0,zero,0xFFFFFC70
	addi a0,zero,0xFFFFFC60
inputB:
	lb s2,0(t0)
	sb s2,0(a0)#输出a
	addi s0,zero,0xFFFFFC74#s0确认键地址
	#inputB:
	lw s1,0(s0)#s1确认键
	bne s1,t1,inputB
	addi t1,zero,0xFFFFFC70
	addi a0,zero,0xFFFFFC62
	lb s3,0(t1)
	sb s3,0(a0)#输出b
	jal Loop

# test3'b001 
test001:  
	addi t1,zero,1
	addi s0,zero,0xFFFFFC74
	addi t0,zero,0xFFFFFC70
	addi a0,zero,0xFFFFFC64
#inputA001:
##	lw s4,0(s1)
#	lw s1,0(s0)
#	bne s1,t1,inputA001
	input(s1,s0,t1)
	lb t2,0(t0)#a存入t2
	addi s0,zero,0xFFFFFC74
	lw s1,0(s0)#s1确认键
	jal Loop

#test3'b010
test010:
	addi t1,zero,1
	addi s0,zero,0xFFFFFC74#s0确认键地址
#inputB010:
##	lw s4,0(s1)
#	lw s1,0(s0)#s1确认键
#	bne s1,t1,inputB010
	input(s1,s0,t1)
	addi t0,zero,0xFFFFFC70
	addi a0,zero,0xFFFFFC64
	lbu t3,0(t0)#b存入t3
	addi s0,zero,0xFFFFFC74
	lw s1,0(s0)#s1确认键
	jal Loop

#test3'b011
test011:
	bne t2,t3,exit011
	addi a0,zero,0xFFFFFC60
	lw s2,0(t0)
	sw s2,0(a0)#点亮LED
exit011:
	jal Loop

#test3'b100
test100:
	bne t2,t3,exit100
	addi a0,zero,0xFFFFFC60
	lw s2,0(t0)
	sw s2,0(a0)#点亮LED
exit100:
	jal Loop

#test3'b101
test101:
	bge t2,t3,exit101
	addi a0,zero,0xFFFFFC60
	lw s2,0(t0)
	sw s2,0(a0)#点亮LED
exit101:
	jal Loop

#test3'b110
test110:
	bgeu t2,t3,exit110
	addi a0,zero,0xFFFFFC60
	lw s2,0(t0)
	sw s2,0(a0)#点亮LED
exit110:
	jal Loop

#test3'b111
test111:
	bltu t2,t3,exit111
	addi a0,zero,0xFFFFFC60
	lw s2,0(t0)
	sw s2,0(a0)#点亮LED
exit111:
	jal Exit

Exit:
